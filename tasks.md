#Задания

## Репликация

### Master-slave репликация
Нужно реализовать репликацию данных на slave-ах, используя oplog мастера. Slave должен возвращать 403 на Put.

Изменения нужно будет вносить в `ValuesController.cs` и в `OperationLogSynchronizer.cs` (нужно правильно реализовать функцию `SynchronizationAction`).
Выполнение задания проверяют `MasterSlaveReplicationTests`. Нужно сделать так, чтобы все тесты были зелеными.

### Quorum read/write

Нужно реализовать репликацию данных на кворум реплик в кластере. Также, реализовать чтение с quorum реплик и возврат наиболее актуального значения.
Если больше половины кластера недоступна, то нужно выкинуть исключение `new HttpRequestException("503")`

Изменения нужно будет вносить в `SimpleStorageClient.cs`.
Выполнение задания проверяют `QuorumReplicationTests`. Нужно сделать так, чтобы все тесты были зелеными.

## Sharding

### Умный клиент
Нужно реализовать схему шардинга "Умный клиент". В этой схеме распределением данных по шардам занимается клиент, шарды друг о друге ничего не знают.

Изменения нужно будет вносить только в `SimpleStorageClient.cs` (нужно правильно реализовать функцию `GetShardEndpoint(string id)`).
Выполнение задания проверяют `SmartClientShardingTests`. Нужно сделать так, чтобы все тесты были зелеными.

### Intra database routing
ValuesController.cs

Узлов много, данных много, состояния всего кластера клиент не знает.
Клиент обращается к какому-то узлу (знает о каких-то)
Сама БД выступает как прокси

В ValuesController при помощи IConfiguration нужно понять, на какую шарду отправить запрос. После этого нужно отправить этот запрос.

### Координатор
ShardMappingController.cs
SimpleStorageClient.cs

Быстро отвечает на простые вопросы “куда мне идти”
Нет лишнего перегона данных внутри площадки, в отличие от прокси, возвращает мало данных.
Очень простая штука, легко резервировать

Описание есть на гитхабе прошлой пары
